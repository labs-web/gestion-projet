<!DOCTYPE HTML>
<html dir="ltr" lang="{{ site.locale | default: " en-US" }}">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{site.baseurl}}/assets/css/rapport.css">
    <title> Rapport </title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>

    </style>
</head>

<body>
    <div class="book">
        <a id="presentation-icon" href="{{site.baseurl}}/presentation.html" target="_blank">
            <img src="{{site.baseurl}}/images/entreprise.png" width="80px" height="80px" />
        </a>
        <div class="page">
            {{ content }}
        </div>

    </div>
</body>

<script>

    // Ajouter un séparateur des pages avant chaque élément h1
    // utilisation hr comme séparateur des pages
    document.querySelectorAll('h1')
        .forEach((tag) => {
            const insertBefore = (el, htmlString) =>
                el.insertAdjacentHTML('beforebegin', htmlString);
            insertBefore(tag, "<hr />");
        });
</script>
<script>hljs.highlightAll();</script>

<!-- Table de matière -->
<script>
    const tableDeMatier = document.getElementById('table-de-matière');
    const h1Elements = document.querySelectorAll('h1');

    // Create a new unordered list element
    const ul = document.createElement('ul');

    h1Elements.forEach(function (h1, h2) {
        // Create a new list item element
        const li = document.createElement('li');

        // Create a new anchor element, set its href attribute to the corresponding h1's id, set its text content to the h1's text content, and insert the new anchor into the list item
        const newAnchor = document.createElement('a');
        newAnchor.href = "#" + h1.id;
        newAnchor.textContent = h1.textContent;
        newAnchor.style.fontWeight = "bold"; // Adding bold font style

        // Append the anchor element to the list item
        li.appendChild(newAnchor);

        // Append the list item to the unordered list
        ul.appendChild(li);
    });

    // Insert the unordered list after the table-de-matier element
    tableDeMatier.insertAdjacentElement('afterend', ul);
</script>

</html>